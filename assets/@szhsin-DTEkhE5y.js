import{r as a,j as f,a as K}from"./react-CA4AiUJV.js";import{u as X}from"./react-transition-state-DLkMetPE.js";function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},c.apply(this,arguments)}function E(e,t){if(e==null)return{};var o={},n=Object.keys(e),s,r;for(r=0;r<n.length;r++)s=n[r],!(t.indexOf(s)>=0)&&(o[s]=e[s]);return o}const B=["transition","transitionTimeout"],y=(e,t)=>e===!0||!!(e&&e[t]),F=(e={})=>{let{transition:t,transitionTimeout:o}=e,n=E(e,B);const s=X(c({timeout:o,enter:y(t,"enter"),exit:y(t,"exit"),preEnter:y(t,"preEnter"),preExit:y(t,"preExit")},n));return c({mountOnEnter:!!n.mountOnEnter,initialEntered:!!n.initialEntered},s)},m="szh-accordion",v="szh-adn",T=`data-${v}`,P=`data-${v}-btn`,$=a.createContext({}),g=(e,t,o)=>(n,s)=>{const r=t?`${e}__${t}`:e;let i=r;o&&Object.keys(o).forEach(u=>{const d=o[u];d&&(i+=` ${r}--${d===!0?u:`${u}-${d}`}`)});let l=typeof n=="function"?n(s):n;return typeof l=="string"&&(l=l.trim(),l&&(i+=` ${l}`)),i},A=(e,t)=>{if(!t)return e;const o=c({},e);return Object.keys(t).forEach(n=>{const s=e[n],r=t[n];typeof r=="function"&&s?o[n]=(...i)=>{s(...i),r(...i)}:o[n]=r}),o},G=e=>f.jsx($.Provider,c({},e)),R=e=>{do e=e.parentElement;while(e&&!e.hasAttribute(T));return e},w=(e,t,o)=>e?t>0?t-1:o-1:(t+1)%o,I=(e,t)=>{const{activeElement:o}=document;if(!o||!o.hasAttribute(P)||R(o)!==t.currentTarget)return;const n=t.currentTarget.querySelectorAll(`[${P}]`),{length:s}=n;for(let r=0;r<s;r++)if(n[r]===o){let i=w(e,r,s);for(;R(n[r])!==R(n[i]);)i=w(e,i,s);r!==i&&(t.preventDefault(),n[i].focus());break}},J=()=>({accordionProps:{[T]:"",onKeyDown:t=>t.key==="ArrowUp"?I(!0,t):t.key==="ArrowDown"&&I(!1,t)}}),Q=["providerValue","className"],_=a.forwardRef((e,t)=>{let{providerValue:o,className:n}=e,s=E(e,Q);const{accordionProps:r}=J();return f.jsx(G,{value:o,children:f.jsx("div",c({},A(r,s),{ref:t,className:g(m)(n)}))})});_.displayName="ControlledAccordion";const U=["allowMultiple","initialEntered","mountOnEnter","unmountOnExit","transition","transitionTimeout","onStateChange"],Y=a.forwardRef((e,t)=>{let{allowMultiple:o,initialEntered:n,mountOnEnter:s,unmountOnExit:r,transition:i,transitionTimeout:l,onStateChange:u}=e,d=E(e,U);const p=F({allowMultiple:o,initialEntered:n,mountOnEnter:s,unmountOnExit:r,transition:i,transitionTimeout:l,onStateChange:u});return f.jsx(_,c({},d,{ref:t,providerValue:p}))});Y.displayName="Accordion";let Z=0;const ee=()=>{const[e,t]=a.useState();return a.useEffect(()=>t(++Z),[]),e&&`${v}-${e}`},te=K.useId||ee,ne=({state:e,toggle:t,disabled:o})=>{const n=te(),s=n&&n+"-",r={id:n,"aria-controls":s,"aria-expanded":e.isEnter,onClick:t};return o?r.disabled=!0:r[P]="",{buttonProps:r,panelProps:{id:s,"aria-labelledby":n,role:"region"}}},oe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?a.useLayoutEffect:a.useEffect,re=({status:e,isResolved:t})=>{const[o,n]=a.useState(),s=a.useRef(null);return oe(()=>{(e==="preEnter"||e==="preExit")&&n(s.current.getBoundingClientRect().height)},[e]),[{height:e==="preEnter"||e==="exiting"?0:e==="entering"||e==="preExit"?o:void 0,overflow:t?void 0:"hidden"},s]};function O(e,t){typeof e=="function"?e(t):e.current=t}function C(e,t){return a.useMemo(()=>e?t?o=>{O(e,o),O(t,o)}:e:t,[e,t])}const se=(e,t,o)=>{const{stateMap:n,mountOnEnter:s,initialEntered:r}=e,i=o??r;return n.get(t)||{status:i?"entered":s?"unmounted":"exited",isMounted:!s,isEnter:i,isResolved:!0}},ie=()=>a.useContext($),ce=({itemKey:e,initialEntered:t,disabled:o}={})=>{const n=a.useRef(null),s=ie(),r=e??n.current,i=se(s,r,t),{setItem:l,deleteItem:u,toggle:d}=s;return a.useEffect(()=>{if(o)return;const p=e??n.current;return l(p,{initialEntered:t}),()=>void u(p)},[l,u,e,t,o]),{itemRef:n,state:i,toggle:a.useCallback(p=>d(r,p),[d,r])}},ae=["itemKey","initialEntered"],de=e=>{const t=a.forwardRef((o,n)=>{let{itemKey:s,initialEntered:r}=o,i=E(o,ae);return f.jsx(e,c({forwardedRef:n},i,ce({itemKey:s,initialEntered:r,disabled:i.disabled})))});return t.displayName="WithAccordionItem",t},le=["forwardedRef","itemRef","state","toggle","className","disabled","header","headingTag","headingProps","buttonProps","contentProps","panelProps","children"],j=(e,t)=>typeof e=="function"?e(t):e,S=a.memo(e=>{let{forwardedRef:t,itemRef:o,state:n,toggle:s,className:r,disabled:i,header:l,headingTag:u="h3",headingProps:d,buttonProps:p,contentProps:h,panelProps:x,children:M}=e,D=E(e,le);const b={state:n,toggle:s,disabled:i},{buttonProps:k,panelProps:L}=ne(b),[V,W]=re(n),H=C(x&&x.ref,W),{status:N,isMounted:z,isEnter:q}=n;return f.jsxs("div",c({},D,{ref:C(t,o),className:g(m,"item",{status:N,expanded:q})(r,n),children:[f.jsx(u,c({},d,{style:c({margin:0},d&&d.style),className:g(m,"item-heading")(d&&d.className,n),children:f.jsx("button",c({},A(k,p),{type:"button",className:g(m,"item-btn")(p&&p.className,n),children:j(l,b)}))})),z&&f.jsx("div",c({},h,{style:c({display:N==="exited"?"none":void 0},V,h&&h.style),className:g(m,"item-content")(h&&h.className,n),children:f.jsx("div",c({},A(L,x),{ref:H,className:g(m,"item-panel")(x&&x.className,n),children:j(M,b)}))}))]}))});S.displayName="AccordionItem";const fe=de(S);export{fe as A,Y as a};
