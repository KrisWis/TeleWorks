import{R as C,a as M}from"./react-DAuq9I5S.js";import{w as N}from"./use-sync-external-store-CgKZQt8c.js";var o="default"in C?M:C,g=Symbol.for("react-redux-context"),w=typeof globalThis<"u"?globalThis:{};function T(){if(!o.createContext)return{};const e=w[g]??(w[g]=new Map);let s=e.get(o.createContext);return s||(s=o.createContext(null),e.set(o.createContext,s)),s}var c=T(),U=()=>{throw new Error("uSES not initialized!")};function v(e=c){return function(){return o.useContext(e)}}var R=v(),E=U,D=e=>{E=e},H=(e,s)=>e===s;function P(e=c){const s=e===c?R:v(e),t=(n,r={})=>{const{equalityFn:i=H,devModeChecks:a={}}=typeof r=="function"?{equalityFn:r}:r,{store:l,subscription:f,getServerState:u,stabilityCheck:d,identityFunctionCheck:p}=s();o.useRef(!0);const x=o.useCallback({[n.name](b){return n(b)}}[n.name],[n,d,a.stabilityCheck]),S=E(f.addNestedSub,l.getState,u||l.getState,x,i);return o.useDebugValue(S),S};return Object.assign(t,{withTypes:()=>t}),t}var _=P();function V(e){e()}function j(){let e=null,s=null;return{clear(){e=null,s=null},notify(){V(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const r=s={callback:t,next:null,prev:s};return r.prev?r.prev.next=r:e=r,function(){!n||e===null||(n=!1,r.next?r.next.prev=r.prev:s=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var m={notify(){},get:()=>[]};function z(e,s){let t,n=m,r=0,i=!1;function a(y){d();const L=n.subscribe(y);let h=!1;return()=>{h||(h=!0,L(),p())}}function l(){n.notify()}function f(){b.onStateChange&&b.onStateChange()}function u(){return i}function d(){r++,t||(t=e.subscribe(f),n=j())}function p(){r--,t&&r===0&&(t(),t=void 0,n.clear(),n=m)}function x(){i||(i=!0,d())}function S(){i&&(i=!1,p())}const b={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:f,isSubscribed:u,trySubscribe:x,tryUnsubscribe:S,getListeners:()=>n};return b}var W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I=W?o.useLayoutEffect:o.useEffect;function $({store:e,context:s,children:t,serverState:n,stabilityCheck:r="once",identityFunctionCheck:i="once"}){const a=o.useMemo(()=>{const u=z(e);return{store:e,subscription:u,getServerState:n?()=>n:void 0,stabilityCheck:r,identityFunctionCheck:i}},[e,n,r,i]),l=o.useMemo(()=>e.getState(),[e]);I(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,l]);const f=s||c;return o.createElement(f.Provider,{value:a},t)}var F=$;function k(e=c){const s=e===c?R:v(e),t=()=>{const{store:n}=s();return n};return Object.assign(t,{withTypes:()=>t}),t}var q=k();function A(e=c){const s=e===c?q:k(e),t=()=>s().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var G=A();D(N.useSyncExternalStoreWithSelector);export{F as P,_ as a,G as u};
